$.fn.Float=function(t){var i=this,e={topSide:140,floatRight:1,side:1,init:function(){var t=i,e=navigator.userAgent;t.css({position:"absolute","z-index":"1000",top:this.topSide}),e.toLowerCase().indexOf("360se")>-1?this.isBlock=!0:e.toLowerCase().indexOf("theworld")>0&&(this.isBlock=!0),1==this.floatRight?t.css("right",this.side):t.css("left",this.side);var s=this;setInterval(function(){s.lock.call(s)},20),void 0!=this.close&&this.closeFloat(),1==this.floatRight&&$(window).resize(function(){$(this).scrollLeft(0),t.css("right",5)})},lockTop:function(t,i,e,s,o){var n=t.css("top"),h=s.top+o.topSide,c=(h-parseInt(n))/20;this.isBlock&&(c=h-parseInt(n));var l=parseInt(n)+c;l+i.height<e.height&&t.css("top",l)},lockLeft:function(t,i,e){var s=t.css("left"),o=i.left+e.side,n=(o-parseInt(s))/20;t.css("left",parseInt(s)+n)},lockRight:function(t,i,e){var s=t.css("right");document;if(0==i.left){var o=e.side,n=(Math.abs(o)-Math.abs(parseInt(s)))/20;t.css("right",Math.abs(parseInt(s))+n)}else{var o=i.left-e.side,n=(Math.abs(o)-Math.abs(parseInt(s)))/20;s=-(Math.abs(parseInt(s))+n)+"px",t.css("right",s)}},lock:function(){var t=i,e=this.currentPosition(t),s=(this.windowDimension(),this.scrollPosition()),o=this.pageDimension(),n=this;this.lockTop(t,e,o,s,n),1==this.floatRight?this.lockRight(t,s,n):this.lockLeft(t,s,n),this.isBlock&&(this.lastTop!=t.css("top")?(t.css("visibility","hidden"),this.lastTop=t.css("top")):t.css("visibility","visible"))},currentPosition:function(t){var i=t.offset();return{top:i.top,left:i.left,width:t.outerWidth(),height:t.outerHeight()}},windowDimension:function(){if("undefined"!=typeof innerWidth&&0!=innerWidth&&"undefined"!=typeof innerHeight&&0!=innerHeight)return{width:innerWidth,height:innerHeight};var t=document;return{width:Math.min(t.body.clientWidth,t.documentElement.clientWidth),height:Math.min(t.body.clientHeight,t.documentElement.clientHeight)}},scrollPosition:function(){var t=document;return{top:Math.max(t.body.scrollTop,t.documentElement.scrollTop),left:Math.max(t.body.scrollLeft,t.documentElement.scrollLeft)}},pageDimension:function(){var t=document;return{width:Math.max(t.body.scrollWidth,t.documentElement.scrollWidth),height:Math.max(t.body.scrollHeight,t.documentElement.scrollHeight)}},closeFloat:function(){i.find("#"+this.close).live("click",function(){i.hide()}).css("cursor","pointer")}};t&&$.extend(e,t),e.init()};
